<% rows ||= [] %>
<% selected_year ||= nil %>

<section data-show="$showsalaryscales" class="space-y-2">
  <div class="text-xs font-medium uppercase tracking-wide text-muted-foreground">League Salary Scales (Minimum by YOS)</div>

  <% if rows.empty? %>
    <div class="p-3 rounded-lg bg-muted/30 border border-border/50 text-sm text-muted-foreground italic">No rows in selected range.</div>
  <% else %>
    <div class="overflow-x-auto rounded-lg border border-border">
      <table class="min-w-full text-xs font-mono tabular-nums">
        <thead class="bg-muted/40 text-[10px] uppercase tracking-wide text-muted-foreground/90">
          <tr>
            <th class="text-left px-3 py-2 font-medium">Year</th>
            <th class="text-right px-3 py-2 font-medium">YOS</th>
            <th class="text-right px-3 py-2 font-medium">Minimum Salary</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-border">
          <% rows.each do |row| %>
            <% highlighted = row["salary_year"].to_i == selected_year.to_i %>
            <tr class="<%= highlighted ? 'bg-yellow-50/70 dark:bg-yellow-900/10' : '' %>">
              <td class="px-3 py-2"><%= row["salary_year"] %></td>
              <td class="px-3 py-2 text-right"><%= row["years_of_service"] %></td>
              <td class="px-3 py-2 text-right"><%= format_compact_currency(row["minimum_salary_amount"]) %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  <% end %>
</section>
